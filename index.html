<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>macOS Sequoia Desktop</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="window.css">
    <link rel="stylesheet" href="control-center.css">
    <link rel="stylesheet" href="browser.css">
    <link rel="stylesheet" href="mail.css">
    <link rel="stylesheet" href="messages.css">
    <link rel="stylesheet" href="music.css">
    <link rel="stylesheet" href="maps.css">
    <link rel="stylesheet" href="lockscreen.css">
    <link rel="stylesheet" href="file-styles.css">
    <link rel="stylesheet" href="macos-app-styles.css">
</head>
<body>
    <div class="desktop">
        <div class="dock-container">
            <div class="dock"></div>
        </div>
        <div class="menu-bar">
            <div class="apple-menu">
                <div class="apple-logo">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="white">
                        <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/>
                    </svg>
                </div>
                <div class="dropdown-menu">
                    <div class="dropdown-item about">About This Mac</div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item">System Settings...</div>
                    <div class="dropdown-item">App Store...</div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item">Recent Items</div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item">Force Quit...</div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item">Sleep</div>
                    <div class="dropdown-item">Restart...</div>
                    <div class="dropdown-item">Shut Down...</div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item">Lock Screen</div>
                    <div class="dropdown-item">Log Out...</div>
                </div>
            </div>
            <div class="menu-items">
                <div class="menu-item">
                    <span>Finder</span>
                    <div class="dropdown-menu">
                        <div class="dropdown-item">About Finder</div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item">Preferences...</div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item">Empty Trash...</div>
                    </div>
                </div>
                <div class="menu-item">
                    <span>File</span>
                    <div class="dropdown-menu">
                        <div class="dropdown-item">New Finder Window</div>
                        <div class="dropdown-item">New Folder</div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item">Open</div>
                        <div class="dropdown-item">Close Window</div>
                    </div>
                </div>
                <div class="menu-item">
                    <span>Edit</span>
                    <div class="dropdown-menu">
                        <div class="dropdown-item">Undo</div>
                        <div class="dropdown-item">Redo</div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item">Cut</div>
                        <div class="dropdown-item">Copy</div>
                        <div class="dropdown-item">Paste</div>
                    </div>
                </div>
                <div class="menu-item">
                    <span>View</span>
                    <div class="dropdown-menu">
                        <div class="dropdown-item">as Icons</div>
                        <div class="dropdown-item">as List</div>
                        <div class="dropdown-item">as Columns</div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item">Show View Options</div>
                    </div>
                </div>
                <div class="menu-item">
                    <span>Go</span>
                    <div class="dropdown-menu">
                        <div class="dropdown-item">Back</div>
                        <div class="dropdown-item">Forward</div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item">Recent Folders</div>
                        <div class="dropdown-item">Computer</div>
                        <div class="dropdown-item">Home</div>
                    </div>
                </div>
                <div class="menu-item">
                    <span>Window</span>
                    <div class="dropdown-menu">
                        <div class="dropdown-item">Minimize</div>
                        <div class="dropdown-item">Zoom</div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item">Bring All to Front</div>
                    </div>
                </div>
                <div class="menu-item">
                    <span>Help</span>
                    <div class="dropdown-menu">
                        <div class="dropdown-item">macOS Help</div>
                    </div>
                </div>
            </div>
            <div class="menu-right">
                <div class="menu-icon">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="white">
                        <path d="M12,21L15.6,16.2C14.6,15.45 13.35,15 12,15C10.65,15 9.4,15.45 8.4,16.2L12,21M12,3C7.95,3 4.21,4.34 1.2,6.6L3,9C5.5,7.12 8.62,6 12,6C15.38,6 18.5,7.12 21,9L22.8,6.6C19.79,4.34 16.05,3 12,3M12,9C9.3,9 6.81,9.89 4.8,11.4L6.6,13.8C8.1,12.67 9.97,12 12,12C14.03,12 15.9,12.67 17.4,13.8L19.2,11.4C17.19,9.89 14.7,9 12,9Z"/>
                    </svg>
                </div>
                <div class="menu-icon control-center">
                    <img src="https://storage.googleapis.com/multi-static-content/previews/artage-io-thumb-93c2343c6beeec1560d3b111efc7df2c.png" width="18" height="18" alt="Control Center">
                </div>
                <div class="menu-icon stage-toggle-label"></div>
                <div class="datetime">
                    <span id="time">12:00 PM</span>
                    <span id="date">Mon Jun 10</span>
                </div>
                <div class="menu-icon lock-screen-toggle">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="white">
                        <path d="M12,17C10.89,17 10,16.1 10,15V12C10,10.89 10.89,10 12,10C13.1,10 14,10.89 14,12V15C14,16.1 13.1,17 12,17M12,7A2,2 0 0,1 14,9A2,2 0 0,1 12,11A2,2 0 0,1 10,9A2,2 0 0,1 12,7M6,20V18H18V20A1,1 0 0,1 17,21H7A1,1 0 0,1 6,20M18,8H17V5A3,3 0 0,0 14,2H10A3,3 0 0,0 7,5V8H6C4.89,8 4,8.89 4,10V16C4,17.11 4.89,18 6,18H18C19.11,18 20,17.11 20,16V10C20,8.89 19.11,8 18,8Z"/>
                    </svg>
                </div>
            </div>
        </div>
        <div class="desktop-icons">
            <div id="unlock-popup-container"></div>
        </div>
    </div>

    <div class="launchpad-overlay">
        <!-- Launchpad icons would be populated here -->
    </div>

    <div class="control-center-panel">
        <div class="control-section">
            <div class="control-group">
                <div class="control-row">
                    <div class="control-button span-2 wifi active">
                        <svg viewBox="0 0 24 24"><path d="M12,21L15.6,16.2C14.6,15.45 13.35,15 12,15C10.65,15 9.4,15.45 8.4,16.2L12,21M12,3C7.95,3 4.21,4.34 1.2,6.6L3,9C5.5,7.12 8.62,6 12,6C15.38,6 18.5,7.12 21,9L22.8,6.6C19.79,4.34 16.05,3 12,3M12,9C9.3,9 6.81,9.89 4.8,11.4L6.6,13.8C8.1,12.67 9.97,12 12,12C14.03,12 15.9,12.67 17.4,13.8L19.2,11.4C17.19,9.89 14.7,9 12,9Z"/></svg>
                        <span>Wi-Fi</span>
                    </div>
                    <div class="control-button bluetooth active">
                        <svg viewBox="0 0 24 24"><path d="M14.88,16.29L13,18.17V14.41M13,5.83L14.88,7.71L13,9.58M17.71,7.71L12,2H11V9.58L6.41,5L5,6.41L10.59,12L5,17.58L6.41,19L11,14.41V22H12L17.71,16.29L13.41,12L17.71,7.71Z"/></svg>
                        <span>Bluetooth</span>
                    </div>
                    <div class="control-button airdrop">
                        <svg viewBox="0 0 24 24"><path d="M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A9,9 0 0,0 21,12A9,9 0 0,0 12,3M12,19C8.13,19 5,15.87 5,12C5,8.13 8.13,5 12,5C15.87,5 19,8.13 19,12C19,15.87 15.87,19 12,19M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10Z"/></svg>
                        <span>AirDrop</span>
                    </div>
                </div>
            </div>

            <div class="control-group">
                <div class="control-row">
                    <div class="control-button focus">
                        <svg viewBox="0 0 24 24"><path d="M12,2A7,7 0 0,0 5,9C5,11.38 6.19,13.47 8,14.74V17A1,1 0 0,0 9,18H15A1,1 0 0,0 16,17V14.74C17.81,13.47 19,11.38 19,9A7,7 0 0,0 12,2M12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6A6,6 0 0,1 18,12A6,6 0 0,1 12,18M20,8.69V4H15.31L12,0.69L8.69,4H4V8.69L0.69,12L4,15.31V20H8.69L12,23.31L15.31,20H20V15.31L23.31,12L20,8.69Z"/></svg>
                        <span>Focus</span>
                    </div>
                    <div class="control-button keyboard">
                        <svg viewBox="0 0 24 24"><path d="M20,5A2,2 0 0,1 22,7V17A2,2 0 0,1 20,19H4A2,2 0 0,1 2,17V7A2,2 0 0,1 4,5H20M5,8H7V10H5V8M8,8H10V10H8V8M11,8H13V10H11V8M14,8H16V10H14V8M17,8H19V10H17V8M5,11H7V13H5V11M8,11H10V13H8V11M11,11H13V13H11V11M14,11H16V13H14V11M17,11H19V13H17V11M8,14H16V16H8V14Z"/></svg>
                        <span>Keyboard</span>
                    </div>
                    <div class="control-button display">
                        <svg viewBox="0 0 24 24"><path d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z"/></svg>
                        <span>Display</span>
                    </div>
                    <div class="control-button screen active">
                        <svg viewBox="0 0 24 24"><path d="M21,2H3A2,2 0 0,0 1,4V16A2,2 0 0,0 3,18H8V20H16V18H21A2,2 0 0,0 23,16V4A2,2 0 0,0 21,2M21,16H3V4H21Z"/></svg>
                        <span>Screen Mirroring</span>
                    </div>
                </div>
            </div>

            <div class="control-group">
                <div class="control-slider brightness-slider">
                    <svg viewBox="0 0 24 24"><path d="M12,8A4,4 0 0,0 8,12A4,4 0 0,0 12,16A4,4 0 0,0 16,12A4,4 0 0,0 12,8M12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6A6,6 0 0,1 18,12A6,6 0 0,1 12,18M20,8.69V4H15.31L12,0.69L8.69,4H4V8.69L0.69,12L4,15.31V20H8.69L12,23.31L15.31,20H20V15.31L23.31,12L20,8.69Z"/></svg>
                    <input type="range" min="30" max="100" value="100">
                </div>
                <div class="control-slider volume-slider">
                    <svg viewBox="0 0 24 24"><path d="M3,9H7L12,4V20L7,15H3V9M16,12C16,10.89 15.55,9.89 14.83,9.17L16.24,7.76C17.33,8.85 18,10.35 18,12C18,13.65 17.33,15.15 16.24,16.24L14.83,14.83C15.55,14.11 16,13.11 16,12M14,12C14,10.9 13.11,10 12,10V14C13.11,14 14,13.1 14,12Z"/></svg>
                    <input type="range" min="0" max="100" value="50">
                </div>
            </div>

            <div class="control-group">
                <div class="media-controls">
                    <div class="media-info">
                        <div class="media-art"></div>
                        <div class="media-text">
                            <div class="media-title">Not Playing</div>
                            <div class="media-artist">No music selected</div>
                        </div>
                    </div>
                    <div class="media-buttons">
                        <button class="media-button">
                            <svg viewBox="0 0 24 24"><path d="M6,6H8V18H6M16,6H18V18H16"/></svg>
                        </button>
                        <button class="media-button">
                            <svg viewBox="0 0 24 24"><path d="M8,5.14V19.14L19,12.14L8,5.14Z"/></svg>
                        </button>
                        <button class="media-button">
                            <svg viewBox="0 0 24 24"><path d="M16,18H18V6H16M6,18H8V6H6"/></svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="finder-window" style="display: none;">
        <div class="window-header">
            <div class="window-buttons">
                <div class="window-button close"></div>
                <div class="window-button minimize"></div>
                <div class="window-button maximize"></div>
            </div>
            <div class="window-title">Finder</div>
        </div>
        <div class="window-toolbar">
            <div class="toolbar-icons">
                <div class="toolbar-icon back">
                    <svg viewBox="0 0 24 24" width="16" height="16">
                        <path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" />
                    </svg>
                </div>
                <div class="toolbar-icon forward">
                    <svg viewBox="0 0 24 24" width="16" height="16">
                        <path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" />
                    </svg>
                </div>
            </div>
            <div class="search-bar">
                <svg viewBox="0 0 24 24" width="16" height="16">
                    <path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7.01,5 5,7.01 5,9.5C5,11.99 7.01,14 9.5,14C11.99,14 14,11.99 14,9.5C14,7.01 11.99,5 9.5,5Z" />
                </svg>
                <input type="text" placeholder="Search">
            </div>
        </div>
        <div class="window-content">
            <div class="sidebar">
                <div class="sidebar-section">
                    <div class="sidebar-header">Favorites</div>
                    <div class="sidebar-item">
                        <svg viewBox="0 0 24 24" width="16" height="16">
                            <path d="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z" />
                        </svg>
                        <span>Recents</span>
                    </div>
                    <div class="sidebar-item">
                        <svg viewBox="0 0 24 24" width="16" height="16">
                            <path d="M12,3L2,12H5V20H19V12H22L12,3M12,8.75A2.25,2.25 0 0,1 14.25,11A2.25,2.25 0 0,1 12,13.25A2.25,2.25 0 0,1 9.75,11A2.25,2.25 0 0,1 12,8.75M12,15C13.5,15 16.5,15.75 16.5,17.25V18H7.5V17.25C7.5,15.75 10.5,15 12,15Z" />
                        </svg>
                        <span>Home</span>
                    </div>
                    <div class="sidebar-item">
                        <svg viewBox="0 0 24 24" width="16" height="16">
                            <path d="M19,21H8V5A3,3 0 0,0 5,2H2V21H19M19,5H17V3A2,2 0 0,0 15,1H2A2,2 0 0,0 0,3V21A2,2 0 0,0 2,23H19A2,2 0 0,0 21,21H19M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" />
                        </svg>
                        <span>Documents</span>
                    </div>
                    <div class="sidebar-item">
                        <svg viewBox="0 0 24 24" width="16" height="16">
                            <path d="M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z" />
                        </svg>
                        <span>Downloads</span>
                    </div>
                </div>
            </div>
            <div class="main-content">
                <!-- File icons will be displayed here -->
            </div>
        </div>
    </div>

    <div class="lock-screen-overlay">
        <div class="lock-screen-content">
            <div class="lock-screen-profile">
                <img src="https://ui-avatars.com/api/?name=John+Doe" alt="John Doe">
                <div class="lock-screen-username">John Doe</div>
            </div>
            <div class="lock-screen-time"></div>
            <div class="lock-screen-date"></div>
            <div class="lock-screen-unlock-hint">Click to unlock</div>
        </div>
    </div>

    <script type="importmap">
        {
            "imports": {
                "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js"
            }
        }
    </script>
    <script type="module">
        // Force absolute base URL for imports
        const baseUrl = window.location.pathname.includes('/macos-web') ? '/macos-web' : '';
        document.querySelector('.desktop').style.backgroundImage = `url('${baseUrl}/SequoiaDark.png')`;
    </script>
    <script type="module" src="config.js"></script>
    <script type="module" src="script.js"></script>
    <script type="module" src="finder.js"></script>
    <script type="module" src="lockscreen.js"></script>
    <script type="module" src="stage-manager.js"></script>
    <script type="module" src="unlock-popup.js"></script>
</body>
</html>